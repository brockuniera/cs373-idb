{% extends "common_content.html" %}

{% block title %}{{ title }}{% endblock %}

<!-- super() loads the header, navbar and an open body tag -->
{% block body %} {{ super() }}
    <!-- All Restaurant data table -->
    <script>
      tableData({{ dataList|safe }});
    </script>
    <section>
      <h1 class="center-text"> {{title}} </h1>
      <div class="center-text">
        <div class="intro-col">
          <ul class="pagination">
            <li><a href="{{page}}?page=1">1</a></li>
            <li><a href="{{page}}?page=2">2</a></li>
            <li><a href="{{page}}?page=3">3</a></li>
            <li><a href="{{page}}?page=4">4</a></li>
            <li><a href="{{page}}?page=5">5</a></li>
          </ul>
        </div>
      </div>
      <div ng-app="swestaurantApp" ng-controller="sortTableCtrl" class="container table-wrapper">
        <table id="data-table" class="table">
          <thead>
            <tr>
              {% for tableHeader in dataNames %}
              <th>
                <a href="#" ng-click="sortType = '{{ tableHeader }}'; sortReverse = !sortReverse">
                  {{ tableHeader }}
                  <span ng-show="sortType == '{{ tableHeader }}'" class="fa fa-caret-down"></span>
                </a>
              </th>
              {% endfor %}
            </tr>
          </thead>
          <tbody class="clickable-rows">
            <tr ng-repeat="dict in data | orderBy:sortType:sortReverse" data-page="/{{ page }}"> 
              {% for attr in dataNames %}
                <td>{[ dict.{{attr}} ]}</td>
              {% endfor %}
            </tr>
          </tbody> 
        </table>
      </div>
    </section>
{% endblock %}
<!-- common_content.html closes the body and html tags -->
